import{d as b,m as w,s as g,q as p,w as B,b as C,y as r,a,h as N,f as t,t as c,i as n,a0 as V,B as f,E as m,C as T,al as A}from"./index-b41f7b4c.js";import{A as K}from"./index-bb1d5d1b.js";const S={class:"p-10 bg-white rounded dark:bg-slate-800"},$={class:"space-y-4"},D={class:"space-y-2"},E=t("h2",{class:"text-2xl font-bold text-center text-slate-800 dark:text-neutral-200"}," 403 ",-1),M={class:"text-base text-center text-slate-500 dark:text-slate-500"},P=t("p",{class:"text-base text-center text-slate-500 dark:text-slate-500"}," 点击下方广告跳转后，返回本页面即可解锁 ",-1),I=b({__name:"R18Permission",props:{visible:{type:Boolean}},emits:["cancel"],setup(h,{emit:y}){const i=w(),d=g(),o=p(!1),s=p(""),v=B(()=>!s.value.trim()||o.value);async function u(){const e=s.value.trim();if(e)try{o.value=!0,await A(e),i.setToken(e),d.success("success"),window.location.reload()}catch(l){d.error(l.message??"error"),i.removeToken(),s.value=""}finally{o.value=!1}}function _(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),u())}function x(){y("cancel")}return(e,l)=>(N(),C(a(T),{show:h.visible,style:{width:"90%","max-width":"640px"}},{default:r(()=>[t("div",S,[t("div",$,[t("header",D,[E,t("p",M,c(e.$t("common.unauthorizedTips")),1),P]),n(K),n(a(V),{value:s.value,"onUpdate:value":l[0]||(l[0]=k=>s.value=k),type:"password",placeholder:"",onKeypress:_},null,8,["value"]),n(a(m),{block:"",type:"primary",disabled:a(v),loading:o.value,onClick:u},{default:r(()=>[f(c(e.$t("common.verify")),1)]),_:1},8,["disabled","loading"]),n(a(m),{block:"",onClick:x},{default:r(()=>[f(c(e.$t("common.cancel")),1)]),_:1})])])]),_:1},8,["show"]))}});export{I as _};
