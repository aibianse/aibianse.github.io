import{d as b,l as w,q as g,m as p,v as N,b as C,x as r,a as s,i as B,f as t,t as c,j as n,aj as V,Z as T,A as f,C as m,N as K,ak as S}from"./index-4b1adf9f.js";const $={class:"p-10 bg-white rounded dark:bg-slate-800"},j={class:"space-y-4"},A={class:"space-y-2"},D=t("h2",{class:"text-2xl font-bold text-center text-slate-800 dark:text-neutral-200"}," 403 ",-1),I={class:"text-base text-center text-slate-500 dark:text-slate-500"},P=b({__name:"R18Permission",props:{visible:{type:Boolean}},emits:["cancel"],setup(h,{emit:v}){const i=w(),d=g(),o=p(!1),a=p(""),y=N(()=>!a.value.trim()||o.value);async function u(){const e=a.value.trim();if(e)try{o.value=!0,await S(e),i.setToken(e),d.success("success"),window.location.reload()}catch(l){d.error(l.message??"error"),i.removeToken(),a.value=""}finally{o.value=!1}}function _(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),u())}function k(){v("cancel")}return(e,l)=>(B(),C(s(K),{show:h.visible,style:{width:"90%","max-width":"640px"}},{default:r(()=>[t("div",$,[t("div",j,[t("header",A,[D,t("p",I,c(e.$t("common.unauthorizedTips")),1),n(V,{class:"w-[200px] m-auto"})]),n(s(T),{value:a.value,"onUpdate:value":l[0]||(l[0]=x=>a.value=x),type:"password",placeholder:"",onKeypress:_},null,8,["value"]),n(s(m),{block:"",type:"primary",disabled:s(y),loading:o.value,onClick:u},{default:r(()=>[f(c(e.$t("common.verify")),1)]),_:1},8,["disabled","loading"]),n(s(m),{block:"",onClick:k},{default:r(()=>[f(c(e.$t("common.cancel")),1)]),_:1})])])]),_:1},8,["show"]))}});export{P as _};
