import{d as e,P as a,v as s,o as l,n as t,p as o,a as n,u as i,e as r,M as d,w as u,x as c,t as p,L as v,Q as f,R as m,q as h,F as b,C as _,N as x,O as w,c as y,J as k,B as g,S as C,T as j}from"./vue-vendor-fb6afcf2.js";import{l as P,m as T,u as z,e as B,_ as S,c as I,n as M,o as O}from"./common-c5d558a5.js";import{I as A,_ as E,a as L,b as R}from"./image-modules-5b640a7a.js";import{i as U,o as $,n as D,r as F,A as K,e as V,h as q,m as J,B as N,C as Q}from"./naive-ui-f88e5312.js";const G={class:"flex items-center justify-between min-w-0 p-4 overflow-hidden border-t dark:border-neutral-800"},H={class:"flex-1 flex-shrink-0 overflow-hidden"},W=e({__name:"Footer",setup:e=>(a((()=>T((()=>import("./common-c5d558a5.js").then((e=>e.A))),["assets/js/common-c5d558a5.js","assets/js/vue-vendor-fb6afcf2.js","assets/css/vue-vendor-aaa8bf00.css","assets/js/naive-ui-f88e5312.js","assets/js/utils-f1e0c1c0.js"]))),s(!1),(e,a)=>(l(),t("footer",G,[o("div",H,[n(i(P))])])))}),X=e=>(x("data-v-d148599a"),e=e(),w(),e),Y={class:"flex flex-col flex-1 min-h-0"},Z={class:"p-4"},ee=X((()=>o("br",null,null,-1))),ae=X((()=>o("br",null,null,-1))),se=X((()=>o("br",null,null,-1))),le=X((()=>o("br",null,null,-1))),te=X((()=>o("div",{class:"flex-1 min-h-0 pb-4 overflow-hidden"},null,-1))),oe={class:"flex items-center p-4 space-x-4"},ne={class:"flex-1"},ie=L(e({__name:"index",setup(e){const a=z(),{isMobile:x}=B(),w=s(!1),y=r((()=>a.siderCollapsed));function k(){a.setSiderCollapsed(!y.value)}const g=r((()=>x.value?{position:"fixed",zIndex:50}:{})),C=r((()=>x.value?{paddingBottom:"env(safe-area-inset-bottom)"}:{}));d(x,(e=>{a.setSiderCollapsed(e)}),{immediate:!0,flush:"post"});const j=_();function P(){j.push("/"),x.value&&k()}return(e,a)=>(l(),t(b,null,[n(i(K),{collapsed:i(y),"collapsed-width":0,width:260,"show-trigger":!i(x)&&"arrow-circle","collapse-mode":"transform",position:"absolute",bordered:"",style:v(i(g)),onUpdateCollapsed:k},{default:u((()=>[o("div",{class:"flex flex-col h-full",style:v(i(C))},[o("main",Y,[o("div",Z,[n(i(U),{class:"home-button",block:"",secondary:"",type:"primary",onClick:P},{default:u((()=>[n(i(S),{icon:i(A).nav.home},null,8,["icon"]),c(" 返回首页 ")])),_:1}),n(i($),{class:"notice-alert",title:"些许通知"},{icon:u((()=>[n(i(D),null,{default:u((()=>[n(i(S),{icon:"mingcute:announcement-line"})])),_:1})])),default:u((()=>[c(" 永久发布页，"),ee,c(" 请收藏标签！"),ae,se,c(" 手机扫码，快速访问"),le,n(i(F),{src:i("https://cdn.lookimage.live/assets/img/aibianse_github_io-ff5e2de0.png")},null,8,["src"])])),_:1})]),te,o("div",oe,[o("div",ne,[n(i(U),{block:"",onClick:a[0]||(a[0]=e=>w.value=!0)},{default:u((()=>[c(p(e.$t("store.siderButton")),1)])),_:1})])])]),n(W)],4)])),_:1},8,["collapsed","show-trigger","style"]),i(x)?f((l(),t("div",{key:0,class:"fixed inset-0 z-40 w-full h-full bg-black/40",onClick:k},null,512)),[[m,!i(y)]]):h("",!0),n(E,{visible:w.value,"onUpdate:visible":a[1]||(a[1]=e=>w.value=e)},null,8,["visible"])],64))}}),[["__scopeId","data-v-d148599a"]]),re={class:"p-10 bg-white rounded dark:bg-slate-800"},de={class:"space-y-4"},ue={class:"space-y-2"},ce=o("h2",{class:"text-2xl font-bold text-center text-slate-800 dark:text-neutral-200"}," 403 ",-1),pe={class:"text-base text-center text-slate-500 dark:text-slate-500"},ve=e({__name:"Permission",props:{visible:{type:Boolean}},setup(e){const a=I(),t=V(),d=s(!1),v=s(""),f=r((()=>!v.value.trim()||d.value));async function m(){const e=v.value.trim();if(e)try{d.value=!0,await M(e),a.setToken(e),t.success("success"),window.location.reload()}catch(s){t.error(s.message??"error"),a.removeToken(),v.value=""}finally{d.value=!1}}function h(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())}return(a,s)=>(l(),y(i(J),{show:e.visible,style:{width:"90%","max-width":"640px"}},{default:u((()=>[o("div",re,[o("div",de,[o("header",ue,[ce,o("p",pe,p(a.$t("common.unauthorizedTips")),1),n(R,{class:"w-[200px] m-auto"})]),n(i(q),{value:v.value,"onUpdate:value":s[0]||(s[0]=e=>v.value=e),type:"password",placeholder:"",onKeypress:h},null,8,["value"]),n(i(U),{block:"",type:"primary",disabled:i(f),loading:d.value,onClick:m},{default:u((()=>[c(p(a.$t("common.verify")),1)])),_:1},8,["disabled","loading"])])])])),_:1},8,["show"]))}}),fe=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"})),me=e({__name:"Layout",setup(e){const a=_(),s=g(),d=z(),c=O(),p=I();"Chat"===s.name&&c.active&&a.replace({name:"Chat",params:{uuid:c.active}});const{isMobile:v}=B(),f=r((()=>d.siderCollapsed)),m=r((()=>{var e;return!!(null==(e=p.session)?void 0:e.auth)&&!p.token})),h=r((()=>v.value?["rounded-none","shadow-none"]:["border","rounded-md","shadow-md","dark:border-neutral-800"])),b=r((()=>["h-full",{"pl-[260px]":!v.value&&!f.value}]));return(e,a)=>{const s=j("RouterView");return l(),t("div",{class:k(["h-full dark:bg-[#24272e] transition-all",[i(v)?"p-0":"p-4"]])},[o("div",{class:k(["h-full overflow-hidden",i(h)])},[n(i(Q),{class:k(["z-40 transition",i(b)]),"has-sider":""},{default:u((()=>[n(ie),n(i(N),{class:"h-full"},{default:u((()=>[n(s,null,{default:u((({Component:e,route:a})=>[(l(),y(C(e),{key:a.fullPath}))])),_:1})])),_:1})])),_:1},8,["class"])],2),n(ve,{visible:i(m)},null,8,["visible"])],2)}}});export{fe as P,me as _};
