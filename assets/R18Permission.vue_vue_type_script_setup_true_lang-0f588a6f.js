import{d as b,l as w,q as g,m as p,v as B,b as N,x as r,a,i as C,f as t,t as c,j as n,$ as V,A as f,D as m,B as A,ak as T}from"./index-11cd024d.js";import{A as $}from"./index-3d7a1754.js";const D={class:"p-10 bg-white rounded dark:bg-slate-800"},K={class:"space-y-4"},S={class:"space-y-2"},M=t("h2",{class:"text-2xl font-bold text-center text-slate-800 dark:text-neutral-200"}," 403 ",-1),P={class:"text-base text-center text-slate-500 dark:text-slate-500"},j=t("p",{class:"text-base text-center text-slate-500 dark:text-slate-500"}," 点击下方广告跳转后，返回本页面即可解锁 ",-1),E=b({__name:"R18Permission",props:{visible:{type:Boolean}},emits:["cancel"],setup(h,{emit:v}){const i=w(),d=g(),o=p(!1),s=p(""),y=B(()=>!s.value.trim()||o.value);async function u(){const e=s.value.trim();if(e)try{o.value=!0,await T(e),i.setToken(e),d.success("success"),window.location.reload()}catch(l){d.error(l.message??"error"),i.removeToken(),s.value=""}finally{o.value=!1}}function x(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),u())}function _(){v("cancel")}return(e,l)=>(C(),N(a(A),{show:h.visible,style:{width:"90%","max-width":"640px"}},{default:r(()=>[t("div",D,[t("div",K,[t("header",S,[M,t("p",P,c(e.$t("common.unauthorizedTips")),1),j]),n($),n(a(V),{value:s.value,"onUpdate:value":l[0]||(l[0]=k=>s.value=k),type:"password",placeholder:"",onKeypress:x},null,8,["value"]),n(a(m),{block:"",type:"primary",disabled:a(y),loading:o.value,onClick:u},{default:r(()=>[f(c(e.$t("common.verify")),1)]),_:1},8,["disabled","loading"]),n(a(m),{block:"",onClick:_},{default:r(()=>[f(c(e.$t("common.cancel")),1)]),_:1})])])]),_:1},8,["show"]))}});export{E as _};
